CONSTANTS
MAX_DEPOSIT_TO_DELEGATE_REQUESTS_PER_PAYLOAD
how many deposit to delegate requests are in a block (when then arrive from EL to CL)

    DELEGATOR_REGISTRY_LIMIT
        max len on the list that holds the delegators in BC

    PENDING_DEPOSITS_TO_DELEGATE_LIMIT
        max len on the list that holds the pending requests queued to be processed

    MIN_DEPOSIT_TO_DELEGATE_AMOUNT
        min amount of Gwei needed to create a new delegator

    MIN_DELEGATOR_WITHDRAWABILITY_DELAY
        min cooldown period needed before a withdrawal to wallet can be done

CONTAINERS
DepositToDelegateMessage
This is the deposit to delegate message that comes from EL

    Delegator

    DelegatedValidator
        Wrapper around an existing Validator

    DepositToDelegateRequest
        The item representing a deposit to delegate request that comes from EL

    PendingDepositToDelegate
        The queueable item representing a deposit to delegate request

    ExecutionRequests (modified)
        This payload object contains all the types of requests that come from EL: deposits, withdrawals, consolidations
        Added the list of deposits_to_delegate.

    Validator (modified)

    BeaconState (modified)

FUNCTIONS
process_deposit_to_delegate_request
It takes every DepositToDelegateRequest, converts it into a PendingDepositToDelegate and appends it to the queue (
pending_deposits_to_delegate, in BC)

    increase_delegator_balance
        Increases the delegator balance. It is used my many operations.

    process_pending_deposits_to_delegate
        Processes pending_deposits_to_delegate items, checking for limits and churns. Will call apply_pending_deposit upon success.

    process_epoch (modified)
        Added a call to our process_pending_deposits_to_delegate.

    process_operations (modified)
        Added a call to out process_deposit_to_delegate_request.

    register_new_delegator
        Adds a new instance of Delegator into the delegators list, and sets its balance to 0

    delegate_to_validator
        Reduces delegator’s undelegated balance and increases delegated validator’s delegated balance

    undelegate_from_validator
        Reduces delegated validator’s delegated_balance and credits the undelegated amount minus operator fee back to the delegator.
        Credits operator fee to the delegated validator

    redelegate
    Initiates a sequence of one undelegation followed by one delegation, from source validator to target validator.
    Credits operator fee to source delegated validator

    withdraw_from_delegator
         Withdraws undelegated balance back to delegator's execution address

    # Perks
    early liquidity


    delegation_operations

| Name                                   | Churnable |
|----------------------------------------|-----------|
| `ACTIVATE_OPERATOR_REQUEST_TYPE`       | NO        | ok
| `DEPOSIT_TO_DELEGATE_REQUEST_TYPE`     | NO        | ok
| `DELEGATE_REQUEST_TYPE`                | YES       | ok
| `UNDELEGATE_REQUEST_TYPE`              | YES       | ok
| `REDELEGATE_REQUEST_TYPE`              | YES       | ok
| `WITHDRAW_FROM_DELEGATOR_REQUEST_TYPE` | NO*       | ok
| `EARLY_LIQUIDITY_REQUEST_TYPE`         | NO*       | -
| `EXIT_REQUEST_TYPE`                    | NO        | -

(*) Bounded to 16/block in order to keep to the minimum the overhead delegation-related withdrawals add to the
execution payload's footprint. This way, the gas cost for these system-level operations can be zero.

    --- DEPOSIT_TO_DELEGATE operations
        DEPOSIT
        GET_FEE
    --- DELEGATION operations
        WITHDRAW_FROM_DELEGATOR
        DELEGATE
        REDELEGATE
        UNDELEGATE
        EXIT -- remove DELEGATOR from b-c
        ACTIVATE_OPERATOR
    --- perks operations
        EARLY_LIQUIDITY

###

    undelegations_exit_queue: List[UndelegationExit, PENDING_DELEGATION_OPERATIONS_LIMIT] - need a new limit?
    withdrawal must fit in churn - we queue the exit epoch anyway so...
    if not is_validator_delegable(delegated_validator.validator): - do we just drop the pending?